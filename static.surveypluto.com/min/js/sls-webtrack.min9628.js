function bulidLogClient(n){return n||(n={}),logBase&&logBase.LogClient&&(n.istest=logBase.LogClient.istest,n.ip=logBase.LogClient.ip,n.url=logBase.LogClient.url,n.ua=logBase.LogClient.ua),n}function bulidLogUser(n){return n||(n={}),logBase&&logBase.LogUser&&(n.user_id=logBase.LogUser.user_id,n.user_type=logBase.LogUser.user_type,n.company_id=logBase.LogUser.company_id),n}function bulidLogActivity(n){return n||(n={}),logBase&&logBase.LogActivity&&(n.activity_id=logBase.LogActivity.activity_id,n.activity_type=logBase.LogActivity.activity_type),n}function bulidLogAction(n){return n||(n={}),logBase&&(bulidLogClient(n),bulidLogUser(n),bulidLogActivity(n),logBase.LogAction&&(n.action_tag=logBase.LogAction.action_tag,n.action_type=logBase.LogAction.action_type,n.action_time=logBase.LogAction.action_time)),n}function bulidLogEvent(n){return n||(n={}),logBase&&(bulidLogClient(n),bulidLogUser(n),bulidLogActivity(n)),n}function bulidLogUserTrack(n){return n||(n={}),logBase&&(bulidLogClient(n),bulidLogUser(n),bulidLogActivity(n)),n}function addUserTrack(n,t,i,r){var f="",u;i&&(f=JSON.stringify(i));u={track_time:getDateNowFormat(),track_tag:n,track_type:t,track_content:f};u=bulidLogEvent(u);logBase&&postWebTracking(logBase.LogUrlUserTrack,u,2e3,r)}function bulidLogJoinAction(n){return n||(n={}),logBase&&(bulidLogClient(n),bulidLogUser(n),bulidLogActivity(n),n.action_time||(n.action_time=getDateNowFormat())),n}function addJoinSave(n,t,i){var r={data:n,cost_seconds:t+""};r=bulidLogJoinSave(r);logBase&&postWebTracking(logBase.LogUrlJoinSave,r,2e3,i)}function bulidLogJoinSave(n){return n||(n={}),logBase&&(bulidLogClient(n),bulidLogUser(n),bulidLogActivity(n)),n}function addJoinHistory(n,t){var i={data:n};i=bulidLogJoinHistory(i);logBase&&postWebTracking(logBase.LogUrlJoinHistory,i,2e3,t)}function bulidLogJoinHistory(n){return n||(n={}),logBase&&(bulidLogClient(n),bulidLogUser(n),bulidLogActivity(n)),n}function postWebTracking(n,t,i,r){var u;(!i||i<=0||i>1e4)&&(i=3e3);try{u=JSON.stringify({__logs__:[t]});$.ajax({url:n,type:"POST",headers:{"x-log-apiversion":"0.6.0","x-log-bodyrawsize":u.length,"Content-Type":"application/json"},data:u,timeout:i,"async":!r,success:function(){},error:function(n,t){console.log(t)},complete:function(n,t,i){if(i){var r=i.getResponseHeader("x-log-requestid");console.log(r)}}})}catch{}}function getDateNowFormat(){var n=new Date,r="-",u=":",t=n.getMonth()+1,i=n.getDate();return t>=1&&t<=9&&(t="0"+t),i>=0&&i<=9&&(i="0"+i),n.getFullYear()+r+t+r+i+" "+n.getHours()+u+n.getMinutes()+u+n.getSeconds()}