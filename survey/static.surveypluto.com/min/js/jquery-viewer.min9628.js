function imgControl(n){$(n).find("img").viewer({filter:function(n){var t=$(n).attr("src");return!1},url:function(n){var u=$(n).next().find(".ytlink"),t=n.src,r,f,i;return u.length>0&&(r=u.attr("href"),(r.indexOf("dingtalk://")!=-1||r.indexOf("/wjx/activitystat/viewimg.aspx")>-1)&&(r=u.attr("oldurl")),t=r),$(n).parent().attr("pimg")&&(t=$(n).parent().attr("pimg")),t&&(f=t.split(",w_"),f.length==2&&(t=f[0]+",w_1200"),i=t.split(",h_200"),i.length==1&&(i=t.split(",h_400")),i.length==2&&(t=i[0]+i[1])),t}})}(function(n,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define(t):(n=typeof globalThis!="undefined"?globalThis:n||self,n.Viewer=t())})(this,function(){"use strict";function oi(n,t){var r=Object.keys(n),i;return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(n),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,i)),r}function gt(n){for(var i,t=1;t<arguments.length;t++)i=arguments[t]!=null?arguments[t]:{},t%2?oi(Object(i),!0).forEach(function(t){nu(n,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):oi(Object(i)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))});return n}function st(n){"@babel/helpers - typeof";return st=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},st(n)}function dr(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function si(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function gr(n,t,i){return t&&si(n.prototype,t),i&&si(n,i),n}function nu(n,t,i){return t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n}function ft(n){return typeof n=="string"}function s(n){return typeof n=="number"&&!lu(n)}function g(n){return typeof n=="undefined"}function nt(n){return st(n)==="object"&&n!==null}function et(n){if(!nt(n))return!1;try{var t=n.constructor,i=t.prototype;return t&&i&&au.call(i,"isPrototypeOf")}catch(r){return!1}}function r(n){return typeof n=="function"}function f(n,t){if(n&&r(t))if(Array.isArray(n)||s(n.length)){for(var u=n.length,i=0;i<u;i+=1)if(t.call(n,n[i],i,n)===!1)break}else nt(n)&&Object.keys(n).forEach(function(i){t.call(n,n[i],i,n)});return n}function a(n,t){var i=n.style;f(t,function(n,t){vu.test(t)&&s(n)&&(n+="px");i[t]=n})}function yu(n){return ft(n)?n.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):n}function tt(n,t){return!n||!t?!1:n.classList?n.classList.contains(t):n.className.indexOf(t)>-1}function n(t,i){if(t&&i){if(s(t.length)){f(t,function(t){n(t,i)});return}if(t.classList){t.classList.add(i);return}var r=t.className.trim();r?r.indexOf(i)<0&&(t.className="".concat(r," ").concat(i)):t.className=i}}function u(n,t){if(n&&t){if(s(n.length)){f(n,function(n){u(n,t)});return}if(n.classList){n.classList.remove(t);return}n.className.indexOf(t)>=0&&(n.className=n.className.replace(t,""))}}function ot(t,i,r){if(i){if(s(t.length)){f(t,function(n){ot(n,i,r)});return}r?n(t,i):u(t,i)}}function ui(n){return n.replace(pu,"$1-$2").toLowerCase()}function it(n,t){return nt(n[t])?n[t]:n.dataset?n.dataset[t]:n.getAttribute("data-".concat(ui(t)))}function fi(n,t,i){nt(i)?n[t]=i:n.dataset?n.dataset[t]=i:n.setAttribute("data-".concat(ui(t)),i)}function h(n,t,i){var u=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{},r=i;t.trim().split(ri).forEach(function(t){if(!wr){var f=n.listeners;f&&f[t]&&f[t][i]&&(r=f[t][i],delete f[t][i],Object.keys(f[t]).length===0&&delete f[t],Object.keys(f).length===0&&delete n.listeners)}n.removeEventListener(t,r,u)})}function t(n,t,i){var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{},u=i;t.trim().split(ri).forEach(function(t){if(r.once&&!wr){var e=n.listeners,f=e===void 0?{}:e;u=function(){delete f[t][i];n.removeEventListener(t,u,r);for(var o=arguments.length,s=new Array(o),e=0;e<o;e++)s[e]=arguments[e];i.apply(n,s)};f[t]||(f[t]={});f[t][i]&&n.removeEventListener(t,f[t][i],r);f[t][i]=u;n.listeners=f}n.addEventListener(t,u,r)})}function o(n,t,i,u){var f;return r(Event)&&r(CustomEvent)?f=new CustomEvent(t,gt({bubbles:!0,cancelable:!0,detail:i},u)):(f=document.createEvent("CustomEvent"),f.initCustomEvent(t,!0,!0,i)),n.dispatchEvent(f)}function wu(n){var t=n.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}function bt(n){var r=n.rotate,u=n.scaleX,f=n.scaleY,e=n.translateX,o=n.translateY,t=[],i;return s(e)&&e!==0&&t.push("translateX(".concat(e,"px)")),s(o)&&o!==0&&t.push("translateY(".concat(o,"px)")),s(r)&&r!==0&&t.push("rotate(".concat(r,"deg)")),s(u)&&u!==1&&t.push("scaleX(".concat(u,")")),s(f)&&f!==1&&t.push("scaleY(".concat(f,")")),i=t.length?t.join(" "):"none",{WebkitTransform:i,msTransform:i,transform:i}}function bu(n){return ft(n)?decodeURIComponent(n.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}function br(n,t,i){var r=document.createElement("img"),u;return n.naturalWidth&&!ei?(i(n.naturalWidth,n.naturalHeight),r):(u=document.body||document.documentElement,r.onload=function(){i(r.width,r.height);ei||u.removeChild(r)},f(t.inheritedAttributes,function(t){var i=n.getAttribute(t);i!==null&&r.setAttribute(t,i)}),r.src=n.src,ei||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",u.appendChild(r)),r)}function kt(n){switch(n){case 2:return eu;case 3:return fu;case 4:return uu;default:return""}}function ku(n){var i=gt({},n),t=[];return f(n,function(n,r){delete i[r];f(i,function(i){var r=Math.abs(n.startX-i.startX),u=Math.abs(n.startY-i.startY),f=Math.abs(n.endX-i.endX),e=Math.abs(n.endY-i.endY),o=Math.sqrt(r*r+u*u),s=Math.sqrt(f*f+e*e),h=(s-o)/o;t.push(h)})}),t.sort(function(n,t){return Math.abs(n)<Math.abs(t)}),t[0]}function dt(n,t){var i=n.pageX,r=n.pageY,u={endX:i,endY:r};return t?u:gt({timeStamp:Date.now(),startX:i,startY:r},u)}function du(n){var t=0,i=0,r=0;return f(n,function(n){var u=n.startX,f=n.startY;t+=u;i+=f;r+=1}),t/=r,i/=r,{pageX:t,pageY:i}}var hi={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2000015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},tu='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"><\/div><div class="viewer-footer"><div class="viewer-title"><\/div><div class="viewer-toolbar"><\/div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"><\/ul><\/div><\/div><div class="viewer-tooltip" role="alert" aria-hidden="true"><\/div><div class="viewer-button" data-viewer-action="mix" role="button"><\/div><div class="viewer-player"><\/div><\/div>',ht=typeof window!="undefined"&&typeof document!="undefined",y=ht?window:{},b=ht&&y.document.documentElement?"ontouchstart"in y.document.documentElement:!1,ni=ht?"PointerEvent"in y:!1,i="viewer",ct="move",ci="switch",rt="zoom",lt="".concat(i,"-active"),iu="".concat(i,"-close"),at="".concat(i,"-fade"),ti="".concat(i,"-fixed"),ru="".concat(i,"-fullscreen"),li="".concat(i,"-fullscreen-exit"),w="".concat(i,"-hide"),uu="".concat(i,"-hide-md-down"),fu="".concat(i,"-hide-sm-down"),eu="".concat(i,"-hide-xs-down"),v="".concat(i,"-in"),vt="".concat(i,"-invisible"),yt="".concat(i,"-loading"),ou="".concat(i,"-move"),ai="".concat(i,"-open"),k="".concat(i,"-show"),e="".concat(i,"-transition"),d="click",ii="dblclick",vi="dragstart",yi="focusin",pi="keydown",p="load",su=b?"touchend touchcancel":"mouseup",hu=b?"touchmove":"mousemove",cu=b?"touchstart":"mousedown",wi=ni?"pointerdown":cu,bi=ni?"pointermove":hu,ki=ni?"pointerup pointercancel":su,di="resize",l="transitionend",gi="wheel",nr="ready",tr="show",ir="shown",rr="hide",ur="hidden",fr="view",ut="viewed",er="move",or="moved",sr="rotate",hr="rotated",cr="scale",lr="scaled",ar="zoom",vr="zoomed",yr="play",pr="stop",pt="".concat(i,"Action"),ri=/\s\s*/,wt=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"],lu=Number.isNaN||y.isNaN,au=Object.prototype.hasOwnProperty,c=Object.assign||function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),t=1;t<i;t++)r[t-1]=arguments[t];return nt(n)&&r.length>0&&r.forEach(function(t){nt(t)&&Object.keys(t).forEach(function(i){n[i]=t[i]})}),n},vu=/^(?:width|height|left|top|marginLeft|marginTop)$/,pu=/([a-z\d])([A-Z])/g,wr=function(){var n=!1;if(ht){var t=!1,i=function(){},r=Object.defineProperty({},"once",{get:function(){return n=!0,t},set:function(n){t=n}});y.addEventListener("test",i,r);y.removeEventListener("test",i,r)}return n}(),ei=y.navigator&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(y.navigator.userAgent),gu={render:function(){this.initContainer();this.initViewer();this.initList();this.renderViewer()},initBody:function(){var n=this.element.ownerDocument,t=n.body||n.documentElement;this.body=t;this.scrollbarWidth=window.innerWidth-n.documentElement.clientWidth;this.initialBodyPaddingRight=t.style.paddingRight;this.initialBodyComputedPaddingRight=window.getComputedStyle(t).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var t=this.options,i=this.parent,n;t.inline&&(n={width:Math.max(i.offsetWidth,t.minWidth),height:Math.max(i.offsetHeight,t.minHeight)},this.parentData=n);(this.fulled||!n)&&(n=this.containerData);this.viewerData=c({},n)},renderViewer:function(){this.options.inline&&!this.fulled&&a(this.viewer,this.viewerData)},initList:function(){var s=this,h=this.element,i=this.options,r=this.list,o=[];r.innerHTML="";f(this.images,function(n,t){var h=n.src,l=n.alt||bu(h),c=s.getImageURL(n),u,e;(h||c)&&(u=document.createElement("li"),e=document.createElement("img"),f(i.inheritedAttributes,function(t){var i=n.getAttribute(t);i!==null&&e.setAttribute(t,i)}),e.src=h||c,e.alt=l,e.setAttribute("data-original-url",c||h),u.setAttribute("data-index",t),u.setAttribute("data-viewer-action","view"),u.setAttribute("role","button"),i.keyboard&&u.setAttribute("tabindex",0),u.appendChild(e),r.appendChild(u),o.push(u))});this.items=o;f(o,function(r){var f=r.firstElementChild;fi(f,"filled",!0);i.loading&&n(r,yt);t(f,p,function(n){i.loading&&u(r,yt);s.loadImage(n)},{once:!0})});i.transition&&t(h,ut,function(){n(r,e)},{once:!0})},renderList:function(n){var t=n||this.index,i=this.items[t].offsetWidth||30,r=i+1;a(this.list,c({width:r*this.length},bt({translateX:(this.viewerData.width-i)/2-r*t})))},resetList:function(){var n=this.list;n.innerHTML="";u(n,e);a(n,bt({translateX:0}))},initImage:function(n){var r=this,u=this.options,h=this.image,e=this.viewerData,o=this.footer.offsetHeight,t=e.width,i=Math.max(e.height-o,o),f=this.imageData||{},s;this.imageInitializing={abort:function(){s.onload=null}};s=br(h,u,function(e,o){var a=e/o,s=t,h=i;r.imageInitializing=!1;i*a>t?h=t/a:s=i*a;s=Math.min(s*.9,e);h=Math.min(h*.9,o);var y=(t-s)/2,p=(i-h)/2,l={left:y,top:p,x:y,y:p,width:s,height:h,oldRatio:1,ratio:s/e,aspectRatio:a,naturalWidth:e,naturalHeight:o},v=c({},l);u.rotatable&&(l.rotate=f.rotate||0,v.rotate=0);u.scalable&&(l.scaleX=f.scaleX||1,l.scaleY=f.scaleY||1,v.scaleX=1,v.scaleY=1);r.imageData=l;r.initialImageData=v;n&&n()})},renderImage:function(n){var f=this,r=this.image,i=this.imageData,u;a(r,c({width:i.width,height:i.height,marginLeft:i.x,marginTop:i.y},bt(i)));n&&((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&tt(r,e)?(u=function(){f.imageRendering=!1;n()},this.imageRendering={abort:function(){h(r,l,u)}},t(r,l,u,{once:!0})):n())},resetImage:function(){if(this.viewing||this.viewed){var n=this.image;this.viewing&&this.viewing.abort();n.parentNode.removeChild(n);this.image=null}}},nf={bind:function(){var n=this.options,i=this.viewer,u=this.canvas,r=this.element.ownerDocument;t(i,d,this.onClick=this.click.bind(this));t(i,vi,this.onDragStart=this.dragstart.bind(this));t(u,wi,this.onPointerDown=this.pointerdown.bind(this));t(r,bi,this.onPointerMove=this.pointermove.bind(this));t(r,ki,this.onPointerUp=this.pointerup.bind(this));t(r,pi,this.onKeyDown=this.keydown.bind(this));t(window,di,this.onResize=this.resize.bind(this));n.zoomable&&n.zoomOnWheel&&t(i,gi,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0});n.toggleOnDblclick&&t(u,ii,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var n=this.options,t=this.viewer,r=this.canvas,i=this.element.ownerDocument;h(t,d,this.onClick);h(t,vi,this.onDragStart);h(r,wi,this.onPointerDown);h(i,bi,this.onPointerMove);h(i,ki,this.onPointerUp);h(i,pi,this.onKeyDown);h(window,di,this.onResize);n.zoomable&&n.zoomOnWheel&&h(t,gi,this.onWheel,{passive:!1,capture:!0});n.toggleOnDblclick&&h(r,ii,this.onDblclick)}},tf={click:function(n){var i=this.options,u=this.imageData,t=n.target,r=it(t,pt);r||t.localName!=="img"||t.parentElement.localName!=="li"||(t=t.parentElement,r=it(t,pt));b&&n.isTrusted&&t===this.canvas&&clearTimeout(this.clickCanvasTimeout);switch(r){case"mix":this.played?this.stop():i.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.hide();break;case"view":this.view(it(t,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(i.loop);break;case"play":this.play(i.fullscreen);break;case"next":this.next(i.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-u.scaleX||-1);break;case"flip-vertical":this.scaleY(-u.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(n){n.preventDefault();this.viewed&&n.target===this.image&&(b&&n.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(n))},load:function(){var f=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var s=this.element,n=this.options,i=this.image,h=this.index,c=this.viewerData;u(i,vt);n.loading&&u(this.canvas,yt);i.style.cssText="height:0;"+"margin-left:".concat(c.width/2,"px;")+"margin-top:".concat(c.height/2,"px;")+"max-width:none!important;position:absolute;width:0;";this.initImage(function(){ot(i,ou,n.movable);ot(i,e,n.transition);f.renderImage(function(){f.viewed=!0;f.viewing=!1;r(n.viewed)&&t(s,ut,n.viewed,{once:!0});o(s,ut,{originalImage:f.images[h],index:h,image:i},{cancelable:!1})})})},loadImage:function(n){var r=n.target,u=r.parentNode,t=u.offsetWidth||30,i=u.offsetHeight||50,f=!!it(r,"filled");br(r,this.options,function(n,u){var e=n/u,o=t,s=i;i*e>t?f?o=i*e:s=t/e:f?s=t/e:o=i*e;a(r,c({width:o,height:s},bt({translateX:(t-o)/2,translateY:(i-s)/2})))})},keydown:function(n){var t=this.options,i;if(t.keyboard){i=n.keyCode||n.which||n.charCode;switch(i){case 13:this.viewer.contains(n.target)&&this.click(n)}if(this.fulled)switch(i){case 27:this.played?this.stop():t.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.prev(t.loop);break;case 38:n.preventDefault();this.zoom(t.zoomRatio,!0);break;case 39:this.next(t.loop);break;case 40:n.preventDefault();this.zoom(-t.zoomRatio,!0);break;case 48:case 49:n.ctrlKey&&(n.preventDefault(),this.toggle())}}},dragstart:function(n){n.target.localName==="img"&&n.preventDefault()},pointerdown:function(n){var i=this.options,r=this.pointers,o=n.buttons,h=n.button,t;!this.viewed||this.showing||this.viewing||this.hiding||(n.type==="mousedown"||n.type==="pointerdown"&&n.pointerType==="mouse")&&(s(o)&&o!==1||s(h)&&h!==0||n.ctrlKey)||(n.preventDefault(),n.changedTouches?f(n.changedTouches,function(n){r[n.identifier]=dt(n)}):r[n.pointerId||0]=dt(n),t=i.movable?ct:!1,i.zoomOnTouch&&i.zoomable&&Object.keys(r).length>1?t=rt:i.slideOnTouch&&(n.pointerType==="touch"||n.type==="touchstart")&&this.isSwitchable()&&(t=ci),i.transition&&(t===ct||t===rt)&&u(this.image,e),this.action=t)},pointermove:function(n){var t=this.pointers,i=this.action;this.viewed&&i&&(n.preventDefault(),n.changedTouches?f(n.changedTouches,function(n){c(t[n.identifier]||{},dt(n,!0))}):c(t[n.pointerId||0]||{},dt(n,!0)),this.change(n))},pointerup:function(t){var h=this,i=this.options,r=this.action,u=this.pointers,s;(t.changedTouches?f(t.changedTouches,function(n){s=u[n.identifier];delete u[n.identifier]}):(s=u[t.pointerId||0],delete u[t.pointerId||0]),r)&&(t.preventDefault(),i.transition&&(r===ct||r===rt)&&n(this.image,e),this.action=!1,b&&r!==rt&&s&&Date.now()-s.timeStamp<500&&!window.isMobile&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),i.toggleOnDblclick&&this.viewed&&t.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){o(h.image,ii)},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){h.imageClicked=!1},500)):(this.imageClicked=!1,i.backdrop&&i.backdrop!=="static"&&t.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){o(h.canvas,d)},50)))))},resize:function(){var n=this;if(this.isShown&&!this.hiding&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){n.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}f(this.player.getElementsByTagName("img"),function(i){t(i,p,n.loadImage.bind(n),{once:!0});o(i,p)})}},wheel:function(n){var r=this,i,t;this.viewed&&((n.preventDefault(),this.wheeling)||(this.wheeling=!0,setTimeout(function(){r.wheeling=!1},50),i=Number(this.options.zoomRatio)||.1,t=1,n.deltaY?t=n.deltaY>0?1:-1:n.wheelDelta?t=-n.wheelDelta/120:n.detail&&(t=n.detail>0?1:-1),this.zoom(-t*i,!0,n)))}},rf={show:function(){var c=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1,a=this.element,f=this.options,i,s;return f.inline||this.showing||this.isShown||this.showing?this:this.ready?(r(f.show)&&t(a,tr,f.show,{once:!0}),o(a,tr)===!1||!this.ready)?this:(this.hiding&&this.transitioning.abort(),this.showing=!0,this.open(),i=this.viewer,u(i,w),i.setAttribute("role","dialog"),i.setAttribute("aria-labelledby",this.title.id),i.setAttribute("aria-modal",!0),i.removeAttribute("aria-hidden"),f.transition&&!c?(s=this.shown.bind(this),this.transitioning={abort:function(){h(i,l,s);u(i,v)}},n(i,e),i.initialOffsetWidth=i.offsetWidth,t(i,l,s,{once:!0}),n(i,v)):(n(i,v),this.shown()),this):(this.build(),this.ready&&this.show(c),this)},hide:function(){var a=this,w=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1,y=this.element,i=this.options,s,c;if(i.inline||this.hiding||!(this.isShown||this.showing)||(r(i.hide)&&t(y,rr,i.hide,{once:!0}),o(y,rr)===!1))return this;this.showing&&this.transitioning.abort();this.hiding=!0;this.played?this.stop():this.viewing&&this.viewing.abort();var n=this.viewer,f=this.image,p=function(){u(n,v);a.hidden()};return i.transition&&!w?(s=function s(t){t&&t.target===n&&(h(n,l,s),a.hidden())},c=function(){tt(n,e)?(t(n,l,s),u(n,v)):p()},this.transitioning={abort:function(){a.viewed&&tt(f,e)?h(f,l,c):tt(n,e)&&h(n,l,s)}},this.viewed&&tt(f,e)?(t(f,l,c,{once:!0}),this.zoomTo(0,!1,null,!0)):c()):p(),this},view:function(){var s=this,e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.options.initialViewIndex,w,b,g;if(e=Number(e)||0,this.hiding||this.played||e<0||e>=this.length||this.viewed&&e===this.index)return this;if(!this.isShown)return this.index=e,this.show();this.viewing&&this.viewing.abort();var l=this.element,c=this.options,k=this.title,v=this.canvas,a=this.items[e],y=a.querySelector("img"),nt=it(y,"originalUrl"),d=y.getAttribute("alt"),i=document.createElement("img");return(f(c.inheritedAttributes,function(n){var t=y.getAttribute(n);t!==null&&i.setAttribute(n,t)}),i.src=nt,i.alt=d,r(c.view)&&t(l,fr,c.view,{once:!0}),o(l,fr,{originalImage:this.images[e],index:e,image:i})===!1||!this.isShown||this.hiding||this.played)?this:(w=this.items[this.index],u(w,lt),w.removeAttribute("aria-selected"),n(a,lt),a.setAttribute("aria-selected",!0),c.focus&&a.focus(),this.image=i,this.viewed=!1,this.index=e,this.imageData={},n(i,vt),c.loading&&n(v,yt),v.innerHTML="",v.appendChild(i),this.renderList(),k.innerHTML="",b=function(){var n=s.imageData,t=Array.isArray(c.title)?c.title[1]:c.title;k.innerHTML=yu(r(t)?t.call(s,i,n):"".concat(d," (").concat(n.naturalWidth," Ã— ").concat(n.naturalHeight,")"))},t(l,ut,b,{once:!0}),this.viewing={abort:function(){h(l,ut,b);i.complete?s.imageRendering?s.imageRendering.abort():s.imageInitializing&&s.imageInitializing.abort():(i.src="",h(i,p,g),s.timeout&&clearTimeout(s.timeout))}},i.complete?this.load():(t(i,p,g=this.load.bind(this),{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){u(i,vt);s.timeout=!1},1e3)),this)},prev:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1,n=this.index-1;return n<0&&(n=t?this.length-1:0),this.view(n),this},next:function(){var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1,t=this.length-1,n=this.index+1;return n>t&&(n=i?0:t),this.view(n),this},move:function(n){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:n,i=this.imageData;return this.moveTo(g(n)?n:i.x+Number(n),g(t)?t:i.y+Number(t)),this},moveTo:function(n){var v=this,i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:n,a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null,e=this.element,f=this.options,u=this.imageData;if(n=Number(n),i=Number(i),this.viewed&&!this.played&&f.movable){var h=u.x,c=u.y,l=!1;if(s(n)?l=!0:n=h,s(i)?l=!0:i=c,l){if(r(f.move)&&t(e,er,f.move,{once:!0}),o(e,er,{x:n,y:i,oldX:h,oldY:c,originalEvent:a})===!1)return this;u.x=n;u.y=i;u.left=n;u.top=i;this.moving=!0;this.renderImage(function(){v.moving=!1;r(f.moved)&&t(e,or,f.moved,{once:!0});o(e,or,{x:n,y:i,oldX:h,oldY:c,originalEvent:a},{cancelable:!1})})}}return this},rotate:function(n){return this.rotateTo((this.imageData.rotate||0)+Number(n)),this},rotateTo:function(n){var h=this,u=this.element,i=this.options,e=this.imageData,f;if(n=Number(n),s(n)&&this.viewed&&!this.played&&i.rotatable){if(f=e.rotate,r(i.rotate)&&t(u,sr,i.rotate,{once:!0}),o(u,sr,{degree:n,oldDegree:f})===!1)return this;e.rotate=n;this.rotating=!0;this.renderImage(function(){h.rotating=!1;r(i.rotated)&&t(u,hr,i.rotated,{once:!0});o(u,hr,{degree:n,oldDegree:f},{cancelable:!1})})}return this},scaleX:function(n){return this.scale(n,this.imageData.scaleY),this},scaleY:function(n){return this.scale(this.imageData.scaleX,n),this},scale:function(n){var a=this,i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:n,f=this.element,u=this.options,e=this.imageData;if(n=Number(n),i=Number(i),this.viewed&&!this.played&&u.scalable){var h=e.scaleX,c=e.scaleY,l=!1;if(s(n)?l=!0:n=h,s(i)?l=!0:i=c,l){if(r(u.scale)&&t(f,cr,u.scale,{once:!0}),o(f,cr,{scaleX:n,scaleY:i,oldScaleX:h,oldScaleY:c})===!1)return this;e.scaleX=n;e.scaleY=i;this.scaling=!0;this.renderImage(function(){a.scaling=!1;r(u.scaled)&&t(f,lr,u.scaled,{once:!0});o(f,lr,{scaleX:n,scaleY:i,oldScaleX:h,oldScaleY:c},{cancelable:!1})})}}return this},zoom:function(n){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null,t=this.imageData;return n=Number(n),n=n<0?1/(1-n):1+n,this.zoomTo(t.width*n/t.naturalWidth,i,r),this},zoomTo:function(n){var tt=this,it=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1,f=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null,v=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1,e=this.element,u=this.options,h=this.pointers,i=this.imageData,rt=i.x,ut=i.y,y=i.width,p=i.height,ft=i.naturalWidth,et=i.naturalHeight,w,b,l,a;if(n=Math.max(0,n),s(n)&&this.viewed&&!this.played&&(v||u.zoomable)){v||(w=Math.max(.01,u.minZoomRatio),b=Math.min(100,u.maxZoomRatio),n=Math.min(Math.max(n,w),b));f&&u.zoomRatio>=.055&&n>.95&&n<1.05&&(n=1);var k=ft*n,d=et*n,g=k-y,nt=d-p,c=i.ratio;if(r(u.zoom)&&t(e,ar,u.zoom,{once:!0}),o(e,ar,{ratio:n,oldRatio:c,originalEvent:f})===!1)return this;this.zooming=!0;f?(l=wu(this.viewer),a=h&&Object.keys(h).length?du(h):{pageX:f.pageX,pageY:f.pageY},i.x-=g*((a.pageX-l.left-rt)/y),i.y-=nt*((a.pageY-l.top-ut)/p)):(i.x-=g/2,i.y-=nt/2);i.left=i.x;i.top=i.y;i.width=k;i.height=d;i.oldRatio=c;i.ratio=n;this.renderImage(function(){tt.zooming=!1;r(u.zoomed)&&t(e,vr,u.zoomed,{once:!0});o(e,vr,{ratio:n,oldRatio:c,originalEvent:f},{cancelable:!1})});it&&this.tooltip()}return this},play:function(){var g=this,w=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1,c,i,y;if(!this.isShown||this.played||(c=this.element,i=this.options,r(i.play)&&t(c,yr,i.play,{once:!0}),o(c,yr)===!1))return this;var b=this.player,d=this.loadImage.bind(this),l=[],a=0,h=0;return this.played=!0,this.onLoadWhenPlay=d,w&&this.requestFullscreen(w),n(b,k),f(this.items,function(r,u){var o=r.querySelector("img"),f=document.createElement("img");f.src=it(o,"originalUrl");f.alt=o.getAttribute("alt");f.referrerPolicy=o.referrerPolicy;a+=1;n(f,at);ot(f,e,i.transition);tt(r,lt)&&(n(f,v),h=u);l.push(f);t(f,p,d,{once:!0});b.appendChild(f)}),s(i.interval)&&i.interval>0&&(y=function y(){g.playing=setTimeout(function(){u(l[h],v);h+=1;h=h<a?h:0;n(l[h],v);y()},i.interval)},a>1&&y()),this},stop:function(){var s=this,i,e,n;return this.played?(i=this.element,e=this.options,r(e.stop)&&t(i,pr,e.stop,{once:!0}),o(i,pr)===!1)?this:(n=this.player,this.played=!1,clearTimeout(this.playing),f(n.getElementsByTagName("img"),function(n){h(n,p,s.onLoadWhenPlay)}),u(n,k),n.innerHTML="",this.exitFullscreen(),this):this},full:function(){var o=this,i=this.options,t=this.viewer,r=this.image,f=this.list;return!this.isShown||this.played||this.fulled||!i.inline?this:(this.fulled=!0,this.open(),n(this.button,li),i.transition&&(u(f,e),this.viewed&&u(r,e)),n(t,ti),t.setAttribute("role","dialog"),t.setAttribute("aria-labelledby",this.title.id),t.setAttribute("aria-modal",!0),t.removeAttribute("style"),a(t,{zIndex:i.zIndex}),i.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=c({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){o.renderImage(function(){i.transition&&setTimeout(function(){n(r,e);n(f,e)},0)})}),this)},exit:function(){var o=this,t=this.options,i=this.viewer,r=this.image,f=this.list;return!this.isShown||this.played||!this.fulled||!t.inline?this:(this.fulled=!1,this.close(),u(this.button,li),t.transition&&(u(f,e),this.viewed&&u(r,e)),t.focus&&this.clearEnforceFocus(),i.removeAttribute("role"),i.removeAttribute("aria-labelledby"),i.removeAttribute("aria-modal"),u(i,ti),a(i,{zIndex:t.zIndexInline}),this.viewerData=c({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){o.renderImage(function(){t.transition&&setTimeout(function(){n(r,e);n(f,e)},0)})}),this)},tooltip:function(){var r=this,f=this.options,i=this.tooltipBox,s=this.imageData;return!this.viewed||this.played||!f.tooltip?this:(i.textContent="".concat(Math.round(s.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):f.transition?(this.fading&&o(i,l),n(i,k),n(i,at),n(i,e),i.removeAttribute("aria-hidden"),i.initialOffsetWidth=i.offsetWidth,n(i,v)):(n(i,k),i.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){f.transition?(t(i,l,function(){u(i,k);u(i,at);u(i,e);i.setAttribute("aria-hidden",!0);r.fading=!1},{once:!0}),u(i,v),r.fading=!0):(u(i,k),i.setAttribute("aria-hidden",!0));r.tooltipping=!1},1e3),this)},toggle:function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,n):this.zoomTo(1,!0,n),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=c({},this.initialImageData),this.renderImage()),this},update:function(){var s=this,u=this.element,h=this.options,c=this.isImg,t,i,e,o;return c&&!u.parentNode?this.destroy():(t=[],f(c?[u]:u.querySelectorAll("img"),function(n){r(h.filter)?h.filter.call(s,n)&&t.push(n):s.getImageURL(n)&&t.push(n)}),!t.length)?this:(this.images=t,this.length=t.length,this.ready?(i=[],f(this.items,function(n,r){var u=n.querySelector("img"),f=t[r];f&&u?(f.src!==u.src||f.alt!==u.alt)&&i.push(r):i.push(r)}),a(this.list,{width:"auto"}),this.initList(),this.isShown&&(this.length?this.viewed&&(e=i.indexOf(this.index),e>=0?(this.viewed=!1,this.view(Math.max(Math.min(this.index-e,this.length-1),0))):(o=this.items[this.index],n(o,lt),o.setAttribute("aria-selected",!0))):(this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""))):this.build(),this)},destroy:function(){var n=this.element,t=this.options;return n[i]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),t.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):t.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),t.inline||h(n,d,this.onStart),n[i]=undefined,this):this}},uf={getImageURL:function(n){var t=this.options.url;return ft(t)?n.getAttribute(t):r(t)?t.call(this,n):""},enforceFocus:function(){var n=this;this.clearEnforceFocus();t(document,yi,this.onFocusin=function(t){var r=n.viewer,i=t.target;i===document||i===r||r.contains(i)||i.getAttribute("tabindex")!==null&&i.getAttribute("aria-modal")==="true"||r.focus()})},clearEnforceFocus:function(){this.onFocusin&&(h(document,yi,this.onFocusin),this.onFocusin=null)},open:function(){var t=this.body;n(t,ai);t.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px")},close:function(){var n=this.body;u(n,ai);n.style.paddingRight=this.initialBodyPaddingRight},shown:function(){var i=this.element,n=this.options,u=this.viewer;(this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,n.focus&&(u.focus(),this.enforceFocus()),r(n.shown)&&t(i,ir,n.shown,{once:!0}),o(i,ir)!==!1)&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var f=this.element,u=this.options,i=this.viewer;u.fucus&&this.clearEnforceFocus();this.fulled=!1;this.viewed=!1;this.isShown=!1;this.close();this.unbind();n(i,w);i.removeAttribute("role");i.removeAttribute("aria-labelledby");i.removeAttribute("aria-modal");i.setAttribute("aria-hidden",!0);this.resetList();this.resetImage();this.hiding=!1;this.destroyed||(r(u.hidden)&&t(f,ur,u.hidden,{once:!0}),o(f,ur,null,{cancelable:!1}))},requestFullscreen:function(n){var i=this.element.ownerDocument,t;!this.fulled||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||(t=i.documentElement,t.requestFullscreen?et(n)?t.requestFullscreen(n):t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen())},exitFullscreen:function(){var n=this.element.ownerDocument;this.fulled&&(n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement)&&(n.exitFullscreen?n.exitFullscreen():n.webkitExitFullscreen?n.webkitExitFullscreen():n.mozCancelFullScreen?n.mozCancelFullScreen():n.msExitFullscreen&&n.msExitFullscreen())},change:function(n){var o=this.options,r=this.pointers,t=r[Object.keys(r)[0]],i,u,e;if(t){i=t.endX-t.startX;u=t.endY-t.startY;switch(this.action){case ct:this.move(i,u,n);break;case rt:this.zoom(ku(r),!1,n);break;case ci:this.action="switched";e=Math.abs(i);e>1&&e>Math.abs(u)&&(this.pointers={},i>1?this.prev(o.loop):i<-1&&this.next(o.loop))}f(r,function(n){n.startX=n.endX;n.startY=n.endY})}},isSwitchable:function(){var n=this.imageData,t=this.viewerData;return this.length>1&&n.x>=0&&n.y>=0&&n.width<=t.width&&n.height<=t.height}},ff=y.Viewer,ef=function(n){return function(){return n+=1}}(-1),kr=function(){function u(n){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(dr(this,u),!n||n.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=n;this.options=c({},hi,et(t)&&t);this.action=!1;this.fading=!1;this.fulled=!1;this.hiding=!1;this.imageClicked=!1;this.imageData={};this.index=this.options.initialViewIndex;this.isImg=!1;this.isShown=!1;this.length=0;this.moving=!1;this.played=!1;this.playing=!1;this.pointers={};this.ready=!1;this.rotating=!1;this.scaling=!1;this.showing=!1;this.timeout=!1;this.tooltipping=!1;this.viewed=!1;this.viewing=!1;this.wheeling=!1;this.zooming=!1;this.id=ef();this.init()}return gr(u,[{key:"init",value:function(){var n=this,o=this.element,u=this.options,c,e,l,s;o[i]||(o[i]=this,u.focus&&!u.keyboard&&(u.focus=!1),c=o.localName==="img",e=[],f(c?[o]:o.querySelectorAll("img"),function(t){r(u.filter)?u.filter.call(n,t)&&e.push(t):n.getImageURL(t)&&e.push(t)}),this.isImg=c,this.length=e.length,this.images=e,this.initBody(),g(document.createElement(i).style.transition)&&(u.transition=!1),u.inline?(l=0,s=function(){if(l+=1,l===n.length){var t;n.initializing=!1;n.delaying={abort:function(){clearTimeout(t)}};t=setTimeout(function(){n.delaying=!1;n.build()},0)}},this.initializing={abort:function(){f(e,function(n){n.complete||h(n,p,s)})}},f(e,function(n){n.complete?s():t(n,p,s,{once:!0})})):t(o,d,this.onStart=function(t){var i=t.target;$(i).parent().hasClass("imgBox")||$(i).prev().hasClass("icon_lookBigpic")||$(i).parent().hasClass("popimg")||$(i).parent().hasClass("descImgBox")||i.localName!=="img"||r(u.filter)&&!u.filter.call(n,i)||n.view(n.images.indexOf(i))}))}},{key:"build",value:function(){var k,h;if(!this.ready){var l=this.element,u=this.options,y=l.parentNode,nt=document.createElement("div");nt.innerHTML=tu;var e=nt.querySelector(".".concat(i,"-container")),b=e.querySelector(".".concat(i,"-title")),c=e.querySelector(".".concat(i,"-toolbar")),tt=e.querySelector(".".concat(i,"-navbar")),v=e.querySelector(".".concat(i,"-button")),it=e.querySelector(".".concat(i,"-canvas"));if(this.parent=y,this.viewer=e,this.title=b,this.toolbar=c,this.navbar=tt,this.button=v,this.canvas=it,this.footer=e.querySelector(".".concat(i,"-footer")),this.tooltipBox=e.querySelector(".".concat(i,"-tooltip")),this.player=e.querySelector(".".concat(i,"-player")),this.list=e.querySelector(".".concat(i,"-list")),e.id="".concat(i).concat(this.id),b.id="".concat(i,"Title").concat(this.id),n(b,u.title?kt(Array.isArray(u.title)?u.title[0]:u.title):w),n(tt,u.navbar?kt(u.navbar):w),ot(v,w,!u.button),u.keyboard&&v.setAttribute("tabindex",0),u.backdrop&&(n(e,"".concat(i,"-backdrop")),u.inline||u.backdrop==="static"||fi(it,pt,"hide")),ft(u.className)&&u.className&&u.className.split(ri).forEach(function(t){n(e,t)}),u.toolbar){var rt=document.createElement("ul"),p=et(u.toolbar),ut=wt.slice(0,3),st=wt.slice(7,9),ht=wt.slice(9);p||n(c,kt(u.toolbar));f(p?u.toolbar:wt,function(f,e){var c=p&&et(f),h=p?ui(e):f,l=c&&!g(f.show)?f.show:f;if(l&&(u.zoomable||ut.indexOf(h)===-1)&&(u.rotatable||st.indexOf(h)===-1)&&(u.scalable||ht.indexOf(h)===-1)){var v=c&&!g(f.size)?f.size:f,a=c&&!g(f.click)?f.click:f,o=document.createElement("li");u.keyboard&&o.setAttribute("tabindex",0);o.setAttribute("role","button");n(o,"".concat(i,"-").concat(h));r(a)||fi(o,pt,h);s(l)&&n(o,kt(l));["small","large"].indexOf(v)!==-1?n(o,"".concat(i,"-").concat(v)):h==="play"&&n(o,"".concat(i,"-large"));r(a)&&t(o,d,a);rt.appendChild(o)}});c.appendChild(rt)}else n(c,w);if(u.rotatable||(k=c.querySelectorAll('li[class*="rotate"]'),n(k,vt),f(k,function(n){c.appendChild(n)})),u.inline?(n(v,ru),a(e,{zIndex:u.zIndexInline}),window.getComputedStyle(y).position==="static"&&a(y,{position:"relative"}),y.insertBefore(e,l.nextSibling)):(n(v,iu),n(e,ti),n(e,at),n(e,w),a(e,{zIndex:u.zIndex}),h=u.container,ft(h)&&(h=l.ownerDocument.querySelector(h)),h||(h=this.body),h.appendChild(e)),u.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,r(u.ready)&&t(l,nr,u.ready,{once:!0}),o(l,nr)===!1){this.ready=!1;return}this.ready&&u.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=ff,u}},{key:"setDefaults",value:function(n){c(hi,et(n)&&n)}}]),u}();return c(kr.prototype,gu,nf,tf,rf,uf),kr});
/*!
 * jQuery Viewer v1.0.1
 * Date: 2019-12-14T09:00:02.315Z
 */
(function(n,t){typeof exports=="object"&&typeof module!="undefined"?t(require("jquery"),require("viewerjs")):typeof define=="function"&&define.amd?define(["jquery","viewerjs"],t):(n=n||self,t(n.jQuery,n.Viewer))})(this,function(n,t){"use strict";if(n=n&&n.hasOwnProperty("default")?n["default"]:n,t=t&&t.hasOwnProperty("default")?t["default"]:t,n&&n.fn&&t){var r=n.fn.viewer,i="viewer";n.fn.viewer=function(r){for(var u,e=arguments.length,o=new Array(e>1?e-1:0),f=1;f<e;f++)o[f-1]=arguments[f];return this.each(function(f,e){var h=n(e),l=r==="destroy",s=h.data(i),a,c;if(!s){if(l)return;a=n.extend({},h.data(),n.isPlainObject(r)&&r);s=new t(e,a);h.data(i,s)}typeof r=="string"&&(c=s[r],n.isFunction(c)&&(u=c.apply(s,o),u===s&&(u=undefined),l&&h.removeData(i)))}),u!==undefined?u:this};n.fn.viewer.Constructor=t;n.fn.viewer.setDefaults=t.setDefaults;n.fn.viewer.noConflict=function(){return n.fn.viewer=r,this}}});Viewer.setDefaults({title:0,minZoomRatio:.1,tooltip:!0,transition:!1,rotatable:!0,navbar:!1,toolbar:{zoomIn:4,rotateLeft:1,oneToOne:0,reset:1,prev:0,next:0,play:{show:0,size:"large"},rotateRight:1,zoomOut:4,flipHorizontal:0,flipVertical:0}});